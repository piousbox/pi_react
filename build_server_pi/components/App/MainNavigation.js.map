{"version":3,"sources":["../../../app/components/App/MainNavigation.jsx"],"names":["MainNavigation","props","state","mobileMenuVisible","dispatch","toggleMobileMenu","bind","nextProps","site","document","title","e","preventDefault","setState","$","refs","slideToggle","galleriesSelected","homeSelected","reportsSelected","tagsSelected","videosSelected","peopleSelected","routes","map","route","idx","path","galleriesPath","galleriesPagesPath","galleryPath","galleryPhotoPath","reportsPath","reportsPagesPath","reportPath","tagsPath","tagPath","videosPath","videosPagesPath","videoPath","peoplePath","margin","fontFamily","subhead","rootLink","tagLink","reportsEnabled","reportsLink","galleriesEnabled","galleriesLink","videosEnabled","videosLink","tagsEnabled","tagsLink","peopleEnabled","peopleLink","children","reports","Component","mapStateToProps","ownProps"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AAGA;;AACA;;AAEA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,c;;;AACJ,0BAAaC,KAAb,EAAoB;AAAA;;AAAA,gIACZA,KADY;;AAElB,UAAKC,KAAL,GAAa,EAAEC,mBAAmB,KAArB,EAAb;AACAF,UAAMG,QAAN,CAAe,wBAAf;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,OAAxB;AAJkB;AAKnB;;;;8CAEyBC,S,EAAW;AACnC;;AAEA,UAAIA,UAAUC,IAAd,EAAoB;AAClBC,iBAASC,KAAT,GAAiBH,UAAUC,IAAV,CAAeE,KAAhC;AACD;AACF;;;uCAEkBH,S,EAAW;AAC5B;AACD;;;qCAEiBI,C,EAAG;AACrBA,QAAEC,cAAF;AACE;AACA,WAAKC,QAAL,CAAc,EAAEV,mBAAmB,CAAC,KAAKD,KAAL,CAAWC,iBAAjC,EAAd;AACAW,QAAE,KAAKC,IAAL,CAAU,aAAV,CAAF,EAA4BC,WAA5B,CAAwC,GAAxC;AACD;;;6BAES;AACR;AACA,UAAI,CAAC,KAAKf,KAAL,CAAWO,IAAhB,EAAsB;AAAE,eAAQ,IAAR;AAAe;;AAEvC,UAAIS,0BAAJ;AAAA,UAAuBC,eAAe,UAAtC;AAAA,UAAkDC,wBAAlD;AAAA,UAAmEC,qBAAnE;AAAA,UAAiFC,uBAAjF;AAAA,UAAiGC,uBAAjG;AACA,WAAKrB,KAAL,CAAWsB,MAAX,CAAkBC,GAAlB,CAAsB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACpC;AACA,YAAID,MAAME,IAAN,KAAe,oBAAUC,aAAzB,IACAH,MAAME,IAAN,KAAe,oBAAUE,kBADzB,IAEAJ,MAAME,IAAN,KAAe,oBAAUG,WAFzB,IAGAL,MAAME,IAAN,KAAe,oBAAUI,gBAH7B,EAG+C;AAC7Cd,8BAAoB,UAApB;AACAC,yBAAe,IAAf;AACD;AACD;AACA,YAAIO,MAAME,IAAN,KAAe,oBAAUK,WAAzB,IACAP,MAAME,IAAN,KAAe,oBAAUM,gBADzB,IAEAR,MAAME,IAAN,KAAe,oBAAUO,UAF7B,EAEyC;AACvCf,4BAAkB,UAAlB;AACAD,yBAAe,IAAf;AACD;AACD;AACA,YAAIO,MAAME,IAAN,KAAe,oBAAUQ,QAAzB,IACAV,MAAME,IAAN,KAAe,oBAAUS,OAD7B,EACsC;AACpChB,yBAAe,UAAf;AACAF,yBAAe,IAAf;AACD;AACD;AACA,YAAIO,MAAME,IAAN,KAAe,oBAAUU,UAAzB,IACAZ,MAAME,IAAN,KAAe,oBAAUW,eADzB,IAEAb,MAAME,IAAN,KAAe,oBAAUY,SAF7B,EAEwC;AACtClB,2BAAiB,UAAjB;AACAH,yBAAe,IAAf;AACD;AACD;AACA,YAAIO,MAAME,IAAN,KAAe,oBAAUa,UAA7B,EAAyC;AACvClB,2BAAiB,UAAjB;AACAJ,yBAAe,IAAf;AACD;AACF,OAlCD;;AAoCA,aACE;AAAA;AAAA;AACE,mEADF;AAGE;AAAA;AAAA,YAAK,WAAU,kBAAf;AACH;AAAA;AAAA,cAAI,OAAO,EAAEuB,QAAQ,CAAV,EAAaC,YAAY,OAAzB,EAAX;AAAgD;AAAA;AAAA,gBAAM,IAAG,GAAT;AAAe,mBAAKzC,KAAL,CAAWO,IAAX,CAAgBE;AAA/B;AAAhD,WADG;AAEH;AAAA;AAAA;AAAK,iBAAKT,KAAL,CAAWO,IAAX,CAAgBmC;AAArB;AAFG,SAHF;AAQE;AAAA;AAAA,YAAK,WAAU,cAAf;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;AAAA;AAAA,kBAAK,IAAI,EAAT;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUC,QAAV,EAAV;AAAA;AAAA;AAAJ,mBADF;AAEE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUC,OAAV,CAAkB,OAAlB,CAAV;AAAA;AAAA;AAAJ,mBAFF;AAGE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUA,OAAV,CAAkB,SAAlB,CAAV;AAAA;AAAA;AAAJ,mBAHF;AAIE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUA,OAAV,CAAkB,UAAlB,CAAV;AAAA;AAAA;AAAJ,mBAJF;AAKE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUA,OAAV,CAAkB,QAAlB,CAAV;AAAA;AAAA;AAAJ,mBALF;AAME;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUA,OAAV,CAAkB,OAAlB,CAAV;AAAA;AAAA;AAAJ,mBANF;AAOE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUA,OAAV,CAAkB,YAAlB,CAAV;AAAA;AAAA;AAAJ,mBAPF;AAQE;AAAA;AAAA;AAAI;AAAA;AAAA,wBAAM,IAAI,oBAAUA,OAAV,CAAkB,MAAlB,CAAV;AAAA;AAAA;AAAJ;AARF;AADF;AADF;AADF;AADF,SARF;AA2BE;AAAA;AAAA,YAAK,WAAU,gBAAf;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE;AAAA;AAAA,kBAAK,IAAI,EAAT;AACE;AAAA;AAAA;AACI,mCAAOC,cAAP,IAA2B;AAAA;AAAA,sBAAI,WAAW3B,eAAf;AAAiC;AAAA;AAAA,wBAAM,IAAI,oBAAU4B,WAAV,EAAV;AAAA;AAAA;AAAjC,mBAD/B;AAEI,mCAAOC,gBAAP,IAA2B;AAAA;AAAA,sBAAI,WAAW/B,iBAAf;AAAmC;AAAA;AAAA,wBAAM,IAAI,oBAAUgC,aAAV,EAAV;AAAA;AAAA;AAAnC,mBAF/B;AAGI,mCAAOC,aAAP,IAA2B;AAAA;AAAA,sBAAI,WAAW7B,cAAf;AAAgC;AAAA;AAAA,wBAAM,IAAI,oBAAU8B,UAAV,EAAV;AAAA;AAAA;AAAhC,mBAH/B;AAII,mCAAOC,WAAP,IAA2B;AAAA;AAAA,sBAAI,WAAWhC,YAAf;AAA8B;AAAA;AAAA,wBAAM,IAAI,oBAAUiC,QAAV,EAAV;AAAA;AAAA;AAA9B,mBAJ/B;AAKI,mCAAOC,aAAP,IAA2B;AAAA;AAAA,sBAAI,WAAWhC,cAAf;AAAgC;AAAA;AAAA,wBAAM,IAAI,oBAAUiC,UAAV,EAAV;AAAA;AAAA;AAAhC;AAL/B;AADF;AADF;AADF;AADF,SA3BF;AA2CE;AAAA;AAAA;AAAQ,eAAKtD,KAAL,CAAWuD;AAAnB,SA3CF;AA6CE,0DAAS,SAAS,KAAKvD,KAAL,CAAWO,IAAX,CAAgBiD,OAAlC;AA7CF,OADF;AAiDD;;;;EArH0B,gBAAMC,S;;AAwHnC,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACzD,KAAD,EAAQ0D,QAAR,EAAqB;AAC3C,SAAO;AACLpD,UAAMN,MAAMM;AADP,GAAP;AAGD,CAJD;;kBAMe,yBAAQmD,eAAR,EAAyB3D,cAAzB,C","file":"MainNavigation.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport { Grid, Row, Col,\n         Nav, NavItem, Navbar,\n} from 'react-bootstrap'\nimport { Link, Redirect } from 'react-router'\nimport { connect } from 'react-redux'\n\nimport config       from 'config'\nimport { siteShow } from '../../actions'\n\nimport Footer3      from './Footer3'\nimport Leaderboard  from './Leaderboard'\nimport HeaderTopBar from './HeaderTopBar'\nimport AppRouter    from './AppRouter'\n\nclass MainNavigation extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = { mobileMenuVisible: false }\n    props.dispatch(siteShow())\n    this.toggleMobileMenu = this.toggleMobileMenu.bind(this)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // console.log(\"+++ +++ MainNavigation componentWillReceiveProps:\", nextProps)\n\n    if (nextProps.site) {\n      document.title = nextProps.site.title\n    }\n  }\n\n  componentWillMount(nextProps) {\n    // console.log(\"+++ +++ MainNavigation componentWillMount:\", nextProps)\n  }\n\n  toggleMobileMenu (e) {\n\t\te.preventDefault();\n    // console.log('+++ toggleMobileMenu')\n    this.setState({ mobileMenuVisible: !this.state.mobileMenuVisible })\n    $(this.refs['mobile-menu']).slideToggle(500)\n  }\n\n  render () {\n    // console.log('+++ +++ MainNavigation render:', this.props, this.state)\n    if (!this.props.site) { return (null) }\n\n    let galleriesSelected, homeSelected = 'selected', reportsSelected, tagsSelected, videosSelected, peopleSelected\n    this.props.routes.map((route, idx) => {\n      // galleries\n      if (route.path === AppRouter.galleriesPath ||\n          route.path === AppRouter.galleriesPagesPath ||\n          route.path === AppRouter.galleryPath ||\n          route.path === AppRouter.galleryPhotoPath) {\n        galleriesSelected = 'selected'\n        homeSelected = null\n      }\n      // reports\n      if (route.path === AppRouter.reportsPath ||\n          route.path === AppRouter.reportsPagesPath ||\n          route.path === AppRouter.reportPath) {\n        reportsSelected = 'selected'\n        homeSelected = null\n      }\n      // tags\n      if (route.path === AppRouter.tagsPath ||\n          route.path === AppRouter.tagPath) {\n        tagsSelected = 'selected'\n        homeSelected = null\n      }\n      // videos\n      if (route.path === AppRouter.videosPath ||\n          route.path === AppRouter.videosPagesPath ||\n          route.path === AppRouter.videoPath) {\n        videosSelected = 'selected'\n        homeSelected = null\n      }\n      // people\n      if (route.path === AppRouter.peoplePath) {\n        peopleSelected = 'selected'\n        homeSelected = null\n      }\n    })\n    \n    return (\n      <div >\n        <HeaderTopBar />\n\n        <div className=\"center main-logo\">\n\t\t\t\t\t<h1 style={{ margin: 0, fontFamily: 'serif' }} ><Link to=\"/\">{ this.props.site.title }</Link></h1>\n\t\t\t\t\t<h4>{this.props.site.subhead}</h4>\n\t\t\t\t</div>\n        \n        <div className=\"menu-primary\">\n          <Grid>\n            <Row>\n              <Col xs={12}>\n                <ul>\n                  <li><Link to={AppRouter.rootLink()}>Home</Link></li>\n                  <li><Link to={AppRouter.tagLink('salsa')}>Salsa</Link></li>\n                  <li><Link to={AppRouter.tagLink('bachata')}>Bachata</Link></li>\n                  <li><Link to={AppRouter.tagLink('sketches')}>Sketches</Link></li>\n                  <li><Link to={AppRouter.tagLink('travel')}>Travel</Link></li>\n                  <li><Link to={AppRouter.tagLink('music')}>Music</Link></li>\n                  <li><Link to={AppRouter.tagLink('javascript')}>Javascript</Link></li>\n                  <li><Link to={AppRouter.tagLink('ruby')}>Ruby</Link></li>\n                </ul>\n              </Col>\n            </Row>\n          </Grid>\n        </div>\n        \n        <div className=\"menu-secondary\">\n          <Grid>\n            <Row>\n              <Col xs={12}>\n                <ul>\n                  { config.reportsEnabled &&   <li className={reportsSelected} ><Link to={AppRouter.reportsLink()}>Reports</Link></li> }\n                  { config.galleriesEnabled && <li className={galleriesSelected} ><Link to={AppRouter.galleriesLink()}>Galleries</Link></li> }\n                  { config.videosEnabled &&    <li className={videosSelected} ><Link to={AppRouter.videosLink()}>Videos</Link></li> }\n                  { config.tagsEnabled &&      <li className={tagsSelected} ><Link to={AppRouter.tagsLink()}>Tags</Link></li> }\n                  { config.peopleEnabled &&    <li className={peopleSelected} ><Link to={AppRouter.peopleLink()}>People</Link></li> }\n                </ul>\n              </Col>\n            </Row>\n          </Grid>\n        </div>\n        \n        <Grid>{ this.props.children }</Grid>\n\n        <Footer3 reports={this.props.site.reports} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    site: state.site,\n  }\n}\n\nexport default connect(mapStateToProps)(MainNavigation)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}