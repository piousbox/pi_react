{"version":3,"sources":["../../../../app/components/App/done/MainNavigation.jsx"],"names":["MyFacebookButton","onClick","MainNavigation","props","state","profile","nextProps","profilePic","id","fbLogin","fbAppId","response","dispatch","lang","siteTitle","citiesEnabled","tagsEnabled","tagsLink","galleriesEnabled","galleriesLink","reportsEnabled","reportsLink","children","Component","mapStateToProps","ownProps","apiUrl","domain"],"mappings":"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","file":"MainNavigation.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport { Grid, Row, Col,\n         Nav, NavItem, Navbar\n} from 'react-bootstrap'\nimport { authStateReducer } from 'redux-auth'\nimport { Link, Redirect } from 'react-router'\nimport { connect } from 'react-redux'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport FacebookAuth from 'react-facebook-auth'\nimport { EmailSignUpForm, AuthGlobals } from 'redux-auth/default-theme'\n\nimport config from 'config'\nimport styles      from './_App.scss'\nimport Footer3      from './Footer3'\nimport Leaderboard from './Leaderboard'\nimport {\n  SET_API_URL,\n} from '../../constants'\nimport { profileAction } from '../../actions'\nimport AppRouter from './AppRouter'\n\nconst MyFacebookButton = ({ onClick }) => (\n  <button onClick={onClick}>f</button>\n);\n\nclass MainNavigation extends React.Component {\n\n  constructor (props) {\n    super(props)\n    this.state = { profile: {} }\n  }\n\n  componentWillMount(nextProps) {\n    // this.props.dispatch({ type: SET_API_URL, apiUrl: config.apiUrl });\n    // console.log(\"+++ +++ MainNavigation nextProps?:\", nextProps)\n  }\n\n  render () {\n    // console.log('+++ +++ MainNavigation render:', this.props, this.state)\n\n    let profilePic = null\n    if (this.props.profile.id) {\n      profilePic = (<img src={`//graph.facebook.com/${this.props.profile.id}/picture`} alt='' />)\n    } else if (this.state.profile.id) {\n      profilePic = (<img src={`//graph.facebook.com/${this.state.profile.id}/picture`} alt='' />)\n    } \n    let fbLogin = (<FacebookAuth appId={config.fbAppId} fields=\"name,email,picture\" \n                                 callback={(response) => {this.props.dispatch(profileAction(response))}} \n                                 component={MyFacebookButton} />)\n\n    let lang = this.props.profile.lang\n    \n    return (\n      <div>\n        <Navbar>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\">{ config.siteTitle }</Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav bsStyle=\"pills\" pullRight>\n              { config.citiesEnabled ?    <li><Link to='/en/cities'>Cities</Link></li>                 : null }\n              { config.tagsEnabled ?      <li><Link to={AppRouter.tagsLink()}>Tags</Link></li>         : null }\n              { config.galleriesEnabled ? <li><Link to={AppRouter.galleriesLink}>Galleries</Link></li> : null }\n              { config.reportsEnabled ?   <li><Link to={AppRouter.reportsLink}>Reports</Link></li>     : null }\n              { config.galleriesEnabled ? <li><Link to={AppRouter.galleriesLink}>Galleries</Link></li> : null }\n\n              { /* <li><Link to=\"/en/profile\">Profile</Link></li>\n              <li>{ profilePic }</li>\n              <li>{ lang }</li>\n              <li>{ fbLogin }</li> */ }\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        <Leaderboard />\n        { this.props.children }\n        { /* <Footer apiUrl={this.props.apiUrl} domain={this.props.domain} /> */ }\n        <Footer3 />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    apiUrl: state.apiUrl,\n    domain: state.domain,\n    profile: state.profile,\n  }\n}\n\nexport default connect(mapStateToProps)(MainNavigation)\n"]}