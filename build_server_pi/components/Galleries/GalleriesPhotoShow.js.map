{"version":3,"sources":["../../../app/components/Galleries/GalleriesPhotoShow.jsx"],"names":["styles","GalleriesPhotoShow","props","state","gallery","dispatch","galleryname","params","nextProps","setState","Object","assign","photos","document","title","name","largePhoto","prev","photoIdx","parseInt","link","galleryPhotoLink","next","length","thumb_photos","forEach","photo","idx","push","thumb_url","padding","width","large_url","__html","description","Component","propTypes","mapStateToProps","ownprops"],"mappings":"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","file":"GalleriesPhotoShow.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Grid, Row, Col,\n         Panel, \n} from 'react-bootstrap'\n\nimport { connect } from 'react-redux'\n\nimport { galleriesShow } from '../../actions'\n\nimport Center from '../Center'\nimport AppRouter from '../App/AppRouter'\nimport { Link } from 'react-router'\n\n// import styles from './_Galleries.scss'\nlet styles = {} // @TODO: remove! HEREHERE\n\nimport Leaderboard from '../App/Leaderboard'\n\nclass GalleriesPhotoShow extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { gallery: {} }\n    this.props.dispatch(galleriesShow({ galleryname: props.params.galleryname }))\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(Object.assign({}, this.state, {photos: nextProps.gallery.photos }))\n    document.title = nextProps.gallery.name\n  }\n\n  render () {\n    // console.log(\"+++ +++ galleriesPhotoShow props:\", this.props)\n    // console.log(\"+++ +++ galleriesPhotoShow state:\", this.state)\n\n    let largePhoto   = null\n    let prev         = null\n    let photoIdx     = parseInt(this.props.params.photoIdx)\n    if (photoIdx !== 0) {\n      let link = AppRouter.galleryPhotoLink({galleryname: this.props.params.galleryname, photoIdx: photoIdx-1})\n      prev = (<Link to={link}>previous</Link>)\n    }\n    let next         = null\n    if (this.state.photos && photoIdx+1 !== this.state.photos.length) {\n      let link = AppRouter.galleryPhotoLink({galleryname: this.props.params.galleryname, photoIdx: photoIdx+1})\n      next = (<Link to={link}>next</Link>)\n    }\n    let thumb_photos = []\n    if (this.state.photos) {\n      this.state.photos.forEach((photo, idx) => {\n        thumb_photos.push(\n          <Link key={idx} to={AppRouter.galleryPhotoLink({ galleryname: this.props.params.galleryname, photoIdx: idx})} >\n            <img src={photo.thumb_url} alt='' style={{ padding: '5px' }} />\n          </Link>)\n      })\n    \n      largePhoto = (<img style={{ width: '100%' }} \n                         src={this.state.photos[parseInt(this.props.params.photoIdx)].large_url} \n                         alt='' />)\n    }\n\n    \n    return (\n      <Grid>\n        <h2><Center>{ this.props.gallery.name }</Center></h2> \n        <div dangerouslySetInnerHTML={{__html: this.props.gallery.description}} />\n        <Row>\n          <Col md={9} xs={12} >\n            <Center>\n              { prev } | { next }\n              <br /><br />\n              { largePhoto }\n              <br /><br />\n              { prev } | { next }\n            </Center>\n          </Col>\n          <Col md={3} xs={12} >\n            { thumb_photos }\n            <hr />\n          </Col>\n        </Row>\n        <br /><br />\n        <Leaderboard />\n      </Grid>\n    ) \n  }\n}\n\nGalleriesPhotoShow.propTypes = {\n}\n\nconst mapStateToProps = (state, ownprops) => {\n  return {\n    gallery: state.gallery,\n  }\n}\n\nexport default connect(mapStateToProps)(GalleriesPhotoShow)\n"]}