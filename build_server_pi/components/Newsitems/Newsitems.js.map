{"version":3,"sources":["../../../app/components/Newsitems/Newsitems.jsx"],"names":["Newsitems","props","state","gotoPage","bind","page","console","log","setState","Object","assign","dispatch","nextProps","listitems","newsitems","length","idx","map","n","push","pagination","pageNumber","activeStyle","fontWeight","lambda","pageNum","newsLink","site","i","n_newsitems","newsitems_per_page","lastPage","Math","ceil","paginationRender","parseInt","Component","mapStateToProps","ownProps"],"mappings":"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","file":"Newsitems.js","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { Grid, Row, Col,\n         Button,\n} from 'react-bootstrap'\nimport { Link } from 'react-router'\n\nimport { siteNewsitemsAction, siteShow } from '../../actions'\n\nimport Newsitem from './Newsitem'\nimport Center   from './../Center'\nimport Clearfix from './../Clearfix'\nimport { AppRouter } from '../App'\n\nclass Newsitems extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n\n    this.gotoPage = this.gotoPage.bind(this)\n  }\n\n  gotoPage (page) {\n    console.log('+++ gotoPage of Newsitems:', page, this.props, this.state)\n\n    this.setState(Object.assign({}, this.state, { page: page }))\n    this.props.dispatch(siteNewsitemsAction({ page: page }))\n  }\n\n  componentWillReceiveProps (nextProps) {\n    console.log('+++ Newsitems willReceiveProps:', nextProps, this.props, this.state)\n  }\n\n  render() {\n    console.log('+++ +++ Newsitems render:', this.props, this.state)\n\n    let listitems = []\n    let newsitems = this.props.newsitems\n    if (newsitems && newsitems.length > 0) {\n      let idx = 0\n      newsitems.map((n, idx) => {\n        listitems.push(\n          <Col key={idx} xs={12} ><Newsitem key={idx} newsitem={ n } /></Col>\n        )\n        if ((idx+1) % 2 === 0) {\n          listitems.push(<Clearfix key={`${idx}-clearfix`} />)\n        }\n      })\n    }\n    \n    /**\n     * pagination\n     **/\n    let pagination = []\n    let pageNumber = 1\n    let activeStyle = { fontWeight: 'bold' }\n    const lambda = (pageNum, idx) => {\n      pagination.push(\n        <li key={idx} className={this.props.page == pageNum ? 'selected' : '' }>\n          <Link to={AppRouter.newsLink(pageNum)} >{pageNum}</Link>\n        </li>)\n    }\n    if (this.props.site) {\n      for (let i = 0; i < this.props.site.n_newsitems; i += this.props.site.newsitems_per_page) {\n        lambda(pageNumber++, i)\n      }\n    }\n    let lastPage = Math.ceil( this.props.site.n_newsitems / this.props.site.newsitems_per_page )\n    let paginationRender = (\n      <Col xs={12}>\n        <ul className=\"pagination clearfix page_margin_top_section\">\n\t        { this.props.page != 1 && <li><Link to={AppRouter.newsLink(parseInt(this.props.page)-1)}>&lt;</Link></li> }\n          { pagination }\n\t        { this.props.page != lastPage && <li><Link to={AppRouter.newsLink(parseInt(this.props.page)+1)}>&gt;</Link></li> }\n        </ul>\n      </Col>)\n    \n    return (\n      <Row >\n        { listitems }\n        { paginationRender }\n      </Row>\n    )\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    site: state.site,\n  }\n}\n\nexport default connect(mapStateToProps)(Newsitems)\n"]}