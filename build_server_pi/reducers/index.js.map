{"version":3,"sources":["../../app/reducers/index.jsx"],"names":["galleries","state","action","type","console","log","locationReducer","location","myReportsReducer","myGalleriesReducer","newsitemsReducer","newsitems","profileReducer","fbAccount","tag","tags","tmp","Object","assign","tagname","tagsList","flag","map","i","push","videos","cities","city","gallery","myReports","myGalleries","profile","report","reports","site","venue","venues"],"mappings":"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","file":"index.js","sourcesContent":["\nimport { combineReducers } from 'redux'\n\nimport {\n  DO_LOGOUT,\n\n  SET,\n  SET_LOCATION,\n  SET_PROFILE,\n  SET_SITE_NEWSITEMS,\n\n} from '../constants'\n\nimport { citiesIndexReducer, citiesShowReducer } from './citiesReducer'\nimport { galleriesShowReducer } from './galleriesReducer'\nimport { reportsShowReducer, reportsReducer } from './reportsReducer'\nimport { sitesReducer } from './sitesReducer'\nimport { venueReducer, venuesReducer,\n} from './venuesReducer'\n\nimport TgmApi from '../components/App/TgmApi'\n\nimport config from 'config'\n\nconst galleries = (state=[], action) => {\n  switch (action.type) {\n    case SET.galleries:\n      console.log('+++ galleries reducer:', action)\n      return action.galleries\n    default:\n      return state\n  }\n}\n\nfunction locationReducer (state = {}, action) {\n  switch (action.type) {\n    case SET_LOCATION:\n      /* fetch(TgmApi.location( action.locationname )).then(r => r.json()).then(_data => {\n        console.log(\"+++ +++ locationReducer data is:\", _data)\n        return _data.location\n      }) */\n      return action.location\n    default:\n      return state\n  }\n}\n\nfunction myReportsReducer (state = {}, action) {\n  // @TODO\n  return state\n}\n\nfunction myGalleriesReducer (state = {}, action) {\n  // @TODO\n  return state\n}\n\nfunction newsitemsReducer(state = {}, action) {\n  switch (action.type) {\n    case SET_SITE_NEWSITEMS:\n      return action.newsitems\n    default:\n      return state\n  }\n}\n\nfunction profileReducer (state = {}, action) {\n  switch (action.type) {\n    case SET_PROFILE:\n      return action.fbAccount\n\n    default:\n      return state\n  }\n}\n\nconst tag = (state={}, action) => {\n  switch (action.type) {\n    case SET.tag:\n      return action.tag\n    default:\n      return state\n  }\n}\n\n/**\n * this used to be a set, now its a list. _vp_ 20180418\n * this must be a set for all tags (major, minor) and there's the list in tagsList. _vp_ 20180420\n */\nconst tags = (state={}, action) => {\n  switch (action.type) {\n    case SET.tag:\n    \n      console.log('+++ set tag:', action)\n\n      let tmp = Object.assign({}, state)\n      tmp[action.tag.tagname] = action.tag\n      return tmp\n    case SET.tags:\n      return action.tags\n    default:\n      return state\n  }\n}\nconst tagsList = (state=[], action) => {\n  switch (action.type) {\n    case SET.tag:\n      let tmp = []\n      let flag = false\n      state.map((i) => {\n        if (i.tagname === action.tag.tagname) {\n          tmp.push(action.tag)\n          flag = true\n        } else {\n          tmp.push(i)\n        }\n      })\n      if (!flag) {\n        tmp.push(action.tag)\n      }\n      return tmp\n    case SET.tags:\n      return action.tags\n    default:\n      return state\n  }\n}\n\n// v\nconst videos = (state=[], action) => {\n  switch (action.type) {\n      case SET.videos:\n      return action.videos\n    default:\n      return state\n  }\n}\n\nexport default combineReducers({\n  cities: citiesIndexReducer,\n  city: citiesShowReducer,\n\n  gallery: galleriesShowReducer,\n  galleries,\n\n  location: locationReducer,\n\n  myReports: myReportsReducer,\n  myGalleries: myGalleriesReducer,\n\n  newsitems: newsitemsReducer,\n\n  profile: profileReducer,\n\n  report: reportsShowReducer,\n  reports: reportsReducer,\n\n  site: sitesReducer,\n\n  tag,      // I think this is not used, unless i'm looking at /en/tags/show/<tag>\n  tags,     // this is the sophisto list\n  tagsList, // this is the simple list\n\n  venue: venueReducer,\n  venues: venuesReducer,\n  videos,\n})\n"]}